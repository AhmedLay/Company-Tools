@page "/vacation-schedule"
@inherits VacationScheduleFileBase

<PageTitle>Vacation Request</PageTitle>
<MudTabs Elevation="0" Rounded="false" Outlined="true" Centered="true" PanelClass="p-0">
    <MudTabPanel Text="List View">
        <ChildContent>
            <MudDataGrid Items="@Requests" Filterable="false" SortMode="@SortMode.None" Groupable="false">
                <ToolBarContent>
                    <MudText Typo="Typo.h6">Your Drafts</MudText>
                    <MudSpacer />
                    <MudButton Size="@Size.Medium" Variant="@Variant.Outlined" Color="@Color.Tertiary" OnClick="OpenDrawer">Create a Request</MudButton>
                </ToolBarContent>
                <Columns>
                    <PropertyColumn Property="x => x.Id" Title="ID" />
                    <PropertyColumn Property="x => x.Draftname" Title="Name" />
                    <PropertyColumn Property="x => x.From" Title="From" />
                    <PropertyColumn Property="x => x.To" Title="To" />
                    <PropertyColumn Property="x => x.AbsenceType" Title="Absence Type" />
                    <TemplateColumn CellClass="d-flex justify-end">
                        <CellTemplate>
                            <MudStack Row>
                                <MudButton Size="@Size.Small" Variant="@Variant.Outlined" Color="@Color.Warning">Edit Request</MudButton>
                                <MudButton Size="@Size.Small" Variant="@Variant.Filled" Color="@Color.Success">Send Request</MudButton>
                            </MudStack>
                        </CellTemplate>
                    </TemplateColumn>
                </Columns>
            </MudDataGrid>

            <MudDrawer @bind-Open="@_open" Width="600px" Height="100%" Anchor="Anchor.Right" Variant="@DrawerVariant.Temporary">
                <MudCard Class="drawer-card">
                    <MudCardContent Class="drawer-card-content">
                        <MudText Align="Align.Center">Vacation Request</MudText>
                        <MudForm Spacing="2" Class="form-container">
                            <MudTextField T="string" Label="Draftname" @bind-Text="Draftname" />
                            <MudDatePicker Label="From" />
                            <MudDatePicker Label="To" />
                            <MudTextField T="string" Label="Comment" />
                            <MudTextField T="int" Label="Current Remaining Vacation Days" Value="10" ReadOnly="true" Disabled="true" />
                            <MudRadioGroup @bind-Value="Dense_Radio" Class="radio-group">
                                <MudRadio Value="true" Color="Color.Primary" Dense="true">Vacation</MudRadio>
                                <MudRadio Value="false" Color="Color.Secondary" Dense="false">Sick Leave</MudRadio>
                            </MudRadioGroup>
                            <MudButton OnClick="SaveDraft" Variant="Variant.Outlined" Color="Color.Secondary" FullWidth="true">Save Draft</MudButton>
                            <MudButton OnClick="SubmitRequest" Variant="Variant.Filled" Color="Color.Success" FullWidth="true">Submit Request</MudButton>
                        </MudForm>
                    </MudCardContent>
                </MudCard>
            </MudDrawer>
        </ChildContent>
    </MudTabPanel>

    <MudTabPanel Text="Calendar View">
        <ChildContent>
            <MudCalendar Color="Color.Inherit" />
        </ChildContent>
    </MudTabPanel>
</MudTabs>
