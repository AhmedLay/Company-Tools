@page "/file-upload"
@inherits UploadEmployeeFileBase

<MudPaper Class="d-flex flex-column align-center py-4">
    <MudText Typo="Typo.h4" GutterBottom="true">Employee File Upload</MudText>
    <MudText Typo="Typo.body1" Class="mb-4 text-center">
        Please upload a CSV or TXT file to import your employees into the database.
        Maximum 10 at once per upload.
        Supported formats: .csv or .txt.
        Each file must follow the required format.

    </MudText>

    <MudFileUpload T="IReadOnlyList<IBrowserFile>"
                   Accept=".txt, .csv"
                   FilesChanged="LoadFiles">
        <ActivatorContent>
            <MudButton Variant="Variant.Filled"
                       Color="Color.Primary"
                       Class="mb-2"
                       StartIcon="@Icons.Material.Filled.UploadFile">
                Load Files
            </MudButton>
        </ActivatorContent>
    </MudFileUpload>

    <MudButton Variant="Variant.Filled"
               Color="Color.Success"
               Class="mb-4"
               OnClick="SubmitFiles"
               StartIcon="@Icons.Material.Filled.CloudUpload">
        Submit Files
    </MudButton>  

   @*  optional text, dont know if its better tbh *@
    <MudText Typo="@Typo.h6">@UploadedFiles.Count() File@(UploadedFiles.Count() == 1 ? "" : "s"):</MudText>
    <MudList T="string">
        @foreach (var file in UploadedFiles)
        {
            <MudListItem Icon="@Icons.Material.Filled.AttachFile" @key="@file">
                @file.Name <code>@file.Name bytes</code>
            </MudListItem>
        }
    </MudList>


</MudPaper>
